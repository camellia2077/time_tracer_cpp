# test/config.toml

# ==============================================================================
#                       RUN CONTROL
# ==============================================================================
[run_control]

# 设置为 1 来清空测试环境目录 (保留根文件夹，删除内部内容)
enable_environment_clean = 1

# 设置为 1 来从源目录复制最新的 exe, dll, config, plugins 到测试环境
enable_environment_prepare = 1

# 设置为 1 来执行具体的测试用例
enable_test_execution = 1


# ==============================================================================
#                 PATH AND DIRECTORY CONFIGURATION
# ==============================================================================
[paths]
# 从这里复制exe和exe运行需要的文件
source_executables_dir = "C:/Computer/my_github/github_cpp/time_tracer/time_tracer_cpp/apps/time_tracer/build/bin"

# 存放 txt 源文件的文件夹
test_data_path = "C:/Computer/my_github/github_cpp/time_tracer/my_test/Date"

# 测试环境的文件夹 (存放 exe/dll)
target_executables_dir = "C:/Computer/my_github/github_cpp/time_tracer/my_test/time_tracer_test"

# 定义exe输出的格式化内容的地址--output <path>
output_dir_name = "C:/Computer/my_github/github_cpp/time_tracer/my_test"

# 明确指定数据库文件的存放路径
db_dir = "C:/Computer/my_github/github_cpp/time_tracer/my_test/time_tracer_test/output/time_data.sqlite3"

# 导出文件的存放路径
export_output_dir = "C:/Computer/my_github/github_cpp/time_tracer/my_test/time_tracer_test/output/exported_files"

# 明确指定 Python 测试日志的输出文件夹地址
py_output_dir = "C:/Computer/my_github/github_cpp/time_tracer/my_test/time_tracer_test/py_output"

# ==============================================================================
#                      EXECUTABLE AND DATABASE CONFIGURATION
# ==============================================================================
[cli_names]
executable_cli_name = "time_tracker_cli.exe"
executable_app_name = "time_tracker_app.exe"
generated_db_file_name = "time_data.sqlite3"

# ==============================================================================
#                      TEST PARAMETERS CONFIGURATION
# ==============================================================================
[test_params]
test_formats = ["md", "tex", "typ"]

# 这个是查询，只查询，不把查询的内容保存到本地
query_day_dates = ["20250101", "20250201"]
query_month_date = ["202605", "202606"]
query_week_params = [[2025, 4], [2025, 5]]
query_year_params = [2025, 2026]
query_recent_days = [7, 10, 15]
query_range_dates = [["20250101", "20250110"], ["20250201", "20250205"]]

# 导出模式: "specific" -> 导出指定列表, "bulk" -> 批量导出全部
export_mode = "specific"

# 仅在 export_mode_is_bulk = false 时生效
specific_export_dates = [
    "20250101","20250102","20250103"
]
specific_export_month = ["202505", "202506"]
specific_export_weeks = [[2025, 4], [2025, 5]]
specific_export_years = [2025, 2026]
specific_export_recent = [7, 10, 15]
specific_export_range = [["20250101", "20250110"], ["202503", "202506"], ["2025", "2026"]]


# ==============================================================================
#                       CLEANUP CONFIGURATION
# ==============================================================================
[cleanup]
files_to_copy = [
    "libreports_shared.dll",
    "time_tracker_cli.exe",
    "libgcc_s_seh-1.dll",
    "libstdc++-6.dll",
    "libsqlite3-0.dll",
    "libtomlplusplus-3.dll",
    "libyyjson.dll",
    "libwinpthread-1.dll"
]
# [新增] 明确定义需要从源目录复制的文件夹
folders_to_copy = ["config", "plugins"]